(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2c10":function(e,t,s){"use strict";s.r(t);s("14d9");var a=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"col-12 row bg-card text-center justify-center"},[t("TopHeader",{attrs:{title:e.title,right:!0,left:!0,backgroundColor:"#fafafa"},scopedSlots:e._u([{key:"right",fn:function(){return[t("div",{staticClass:"col-12 text-right q-mr-sm items-center row justify-end",on:{click:function(t){return e.$router.push({name:"z8List"})}}},[t("q-icon",{attrs:{name:"format_list_numbered",size:"xs"}}),t("span",{staticClass:"f16 fc3"},[e._v("命例")])],1)]},proxy:!0}])}),t("div",{staticClass:"items-center text-center justify-center bg-card",staticStyle:{width:"500px"}},[t("div",{staticClass:"q-pa-md q-mx-md q-my-sm round-corner-8 bg-white"},[t("q-input",{staticClass:"col-12 q-my-sm items-center f14 pan",attrs:{"bg-color":"input",outlined:"",placeholder:"名字",dense:"","hide-hint":!0,maxlength:10},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn-toggle",{staticClass:"border col-12",attrs:{dense:"",unelevated:"",ripple:!1,size:"1rem",spread:"",padding:"6px 15px","toggle-color":"primary",options:[{value:"1",label:"男"},{value:"0",label:"女"}]},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}})]},proxy:!0}]),model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),t("div",{staticClass:"col-12 row"},[t("time-selector",{attrs:{selectedDate:e.solar,solar_time:e.solar_time,hour_accurate:e.hour_accurate,r2l:e.r2l,hourAccurate:e.hourAccurate},on:{"update:selectedDate":function(t){e.solar=t},"update:selected-date":function(t){e.solar=t},cancelClick:function(t){e.showSetDate=!1},"update:hourAccurate":function(t){e.hourAccurate=t},"update:hour-accurate":function(t){e.hourAccurate=t}}})],1),t("div",{staticClass:"col-12 row q-mt-sm"},[t("q-checkbox",{staticClass:"checkbox q-my-sm",attrs:{size:"sm",val:"true",color:"primary",label:"保存此案例",dense:""},model:{value:e.isSave,callback:function(t){e.isSave=t},expression:"isSave"}})],1),t("div",{staticClass:"col-12 row"},[t("q-btn",{staticClass:"col-12 q-my-md",attrs:{size:"16px",padding:"8.5px 0",unelevated:"",color:"primary","text-color":"white",label:"排盘"},on:{click:function(t){return e.goPaiPan()}}})],1)],1),t("div",{staticClass:"bg-white q-pa-md q-mx-md q-my-sm col-12 row round-corner-8"},[t("div",{staticClass:"row q-mt-sm col-12"},[(e.$q.platform.is.android,e._e()),t("div",{staticClass:"col-3 text-center",on:{click:function(t){return e.dataProcess()}}},[t("q-avatar",{staticStyle:{background:"linear-gradient(180deg,#9487f2, #d0cbff 100%)"},attrs:{size:"xl","font-size":"32px","text-color":"white"}},[t("q-icon",{attrs:{name:"sort",size:"sm",color:"white"}})],1),t("div",{staticClass:"f12 fc3 fw500 q-mt-sm"},[t("b",[e._v("命例排序")])])],1),t("div",{staticClass:"col-3 text-center",on:{click:function(t){return e.preferenceSettings()}}},[t("q-avatar",{staticStyle:{background:"linear-gradient(180deg,#ff7043, #ffd180 100%)"},attrs:{size:"xl","font-size":"32px","text-color":"white"}},[t("q-icon",{attrs:{name:"emoji_nature",size:"sm",color:"white"}})],1),t("div",{staticClass:"f12 fc3 fw500 q-mt-sm"},[t("b",[e._v("偏好设置")])])],1)])])]),t("q-dialog",{attrs:{position:"bottom"},on:{hide:function(t){e.showSelectedRenYuanType=!1}},model:{value:e.showSelectedRenYuanType,callback:function(t){e.showSelectedRenYuanType=t},expression:"showSelectedRenYuanType"}},[t("div",{staticClass:"no-shadow",staticStyle:{width:"550px","border-radius":"8px 8px 0 0"}},[t("div",{staticClass:"full-width bg-grey-3"},[t("div",{staticClass:"row q-pa-md bg-white"},[t("span",{staticClass:"f18 fc3 text-bold"},[e._v("偏好设置")])]),t("div",{staticClass:"row col-12 q-px-sm q-mt-sm items-center"},[t("div",{staticClass:"row col-12 q-pa-md items-center bg-white round-corner-5"},[t("div",{staticClass:"col-12 row items-center",on:{click:function(t){e.showFenYe=!e.showFenYe}}},[t("div",{staticClass:"col-6 row items-center"},[t("span",{staticClass:"f14 fc3 text-bold"},[e._v("人元司令分野")])]),t("div",{staticClass:"col-6 row justify-end items-center"},[t("span",{staticClass:"f12 fc6"},[e._v(e._s(e.selectedRenYuanText))]),t("q-icon",{staticClass:"q-ml-sm",attrs:{name:"chevron_right"}})],1)]),e.showFenYe?t("div",{staticClass:"col-12 row"},[t("div",{staticClass:"col-12 row q-mt-sm",on:{click:function(t){e.selectedRenYuanType="ZI_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("《子平真诠》")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"ZI_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)]),t("div",{staticClass:"col-12 row q-mt-sm",on:{click:function(t){e.selectedRenYuanType="YUAN_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("《渊海子平》")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"YUAN_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)]),t("div",{staticClass:"col-12 row q-mt-sm",on:{click:function(t){e.selectedRenYuanType="XING_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("《星平会海》")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"XING_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)]),t("div",{staticClass:"col-12 row q-mt-sm",on:{click:function(t){e.selectedRenYuanType="SAN_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("《三命通会》")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"SAN_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)]),t("div",{staticClass:"col-12 row q-mt-md",on:{click:function(t){e.selectedRenYuanType="SHEN_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("《神峰通考》")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"SHEN_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)]),t("div",{staticClass:"col-12 row q-mt-sm",on:{click:function(t){e.selectedRenYuanType="WAN_REN_YUAN",e.renYuanInput()}}},[t("div",{staticClass:"col-9 row items-center"},[t("span",{staticClass:"f16 fc3 q-ml-xs"},[e._v("万育吾之法决")])]),t("div",{staticClass:"text-right col-3"},[t("q-radio",{staticClass:"col-12",attrs:{"left-label":"",val:"WAN_REN_YUAN"},on:{input:e.renYuanInput},model:{value:e.selectedRenYuanType,callback:function(t){e.selectedRenYuanType=t},expression:"selectedRenYuanType"}})],1)])]):e._e()])]),t("div",{staticClass:"row col-12 q-px-sm q-mt-sm items-center"},[t("div",{staticClass:"row col-12 q-pa-md items-center bg-white round-corner-5"},[t("div",{staticClass:"col-12 row items-center"},[t("div",{staticClass:"col-6 row items-center"},[t("span",{staticClass:"f14 fc9 text-bold"},[e._v("早晚子时")])]),t("div",{staticClass:"col-6 row justify-end items-center"},[t("span",{staticClass:"f12 fc9"},[e._v("不区分")]),t("q-icon",{staticClass:"q-ml-sm",attrs:{name:"chevron_right",color:"grey-6"}})],1)])])]),t("div",{staticClass:"full-width text-center q-mt-xs q-px-sm",staticStyle:{height:"83px"},on:{click:function(t){e.showSelectedRenYuanType=!1}}},[t("q-btn",{staticClass:"btn full-width q-mt-md",staticStyle:{height:"48px"},attrs:{color:"primary",unelevated:"",label:"确认"},on:{click:e.selectedRenYuan}})],1)])])])],1)},i=[],n=(s("b0c0"),s("b64b"),s("caad"),s("2532"),s("ac1f"),s("5319"),s("4e82"),s("a434"),s("3c65"),s("e9c4"),s("af34")),c=(s("2918"),s("2a19")),l=s("41f3"),o=s("df37"),r=s("8e6a"),u=(s("ca00"),s("7f45"),{name:"paipan",mixins:[r["a"]],components:{TopHeader:n["a"],TimeSelector:l["a"]},props:["solar_time","name","hour_accurate","is_save","user_sex","id"],data:function(){return{title:"排盘",userName:this.name||"",sex:this.user_sex||"1",birth_time:"",solar:null,showSetDate:!1,r2l:!1,hourAccurate:!0,isSave:this.is_save||!0,showTime:null,selectedRenYuanType:"ZI_REN_YUAN",showSelectedRenYuanType:!1,showFenYe:!1,selectedRenYuanText:""}},mounted:function(){var e=this.$q.localStorage.getItem("showorder")||"0";switch("1"==e&&(this.r2l=!0),this.selectedRenYuanType=this.$q.localStorage.getItem("renyuan")||"ZI_REN_YUAN",this.selectedRenYuanType){case"ZI_REN_YUAN":this.selectedRenYuanText="《子平真诠》";break;case"YUAN_REN_YUAN":this.selectedRenYuanText="《渊海子平》";break;case"XING_REN_YUAN":this.selectedRenYuanText="《星平会海》";break;case"SAN_REN_YUAN":this.selectedRenYuanText="《三命通会》";break;case"SHEN_REN_YUAN":this.selectedRenYuanText="《神峰通考》";break;case"WAN_REN_YUAN":this.selectedRenYuanText="万育吾之法决";break}"1"==this.hour_accurate?this.hourAccurate=!0:"0"==this.hour_accurate&&(this.hourAccurate=!1),this.solar_time&&(this.solar=o["Solar"].fromYmdHms(this.solar_time.year,this.solar_time.month,this.solar_time.day,this.solar_time.hour,this.solar_time.minute,this.solar_time.second))},methods:{selectedRenYuan:function(){this.showSelectedRenYuanType=!1,this.$q.localStorage.set("renyuan",this.selectedRenYuanType)},renYuanInput:function(){switch(this.selectedRenYuanType){case"ZI_REN_YUAN":this.selectedRenYuanText="《子平真诠》";break;case"YUAN_REN_YUAN":this.selectedRenYuanText="《渊海子平》";break;case"XING_REN_YUAN":this.selectedRenYuanText="《星平会海》";break;case"SAN_REN_YUAN":this.selectedRenYuanText="《三命通会》";break;case"SHEN_REN_YUAN":this.selectedRenYuanText="《神峰通考》";break;case"WAN_REN_YUAN":this.selectedRenYuanText="万育吾之法决";break}},goPaiPan:function(){console.info("id",this.id),this.$router.push({name:"baziPan",params:{birth_time:this.solar,sex:this.sex,name:this.userName,is_save:this.isSave,hour_accurate:this.hourAccurate,bazi_id:this.id||""}})},backup:function(){if(this.$q.platform.is.android){var e=this;e.exportData().then((function(e){var t="";console.log(e),t="1"==e.r?"备份成功，备份路径为：SD卡/xiaoyu/xiaoyu_db":"-1"==e.r?"备份过程中出现错误":"-2"==e.r?"被永久拒绝授权，请手动授予存储权限":"-3"==e.r?"获取存储权限失败":"出现错误",c["a"].create({message:t,timeout:2e3,color:"black",position:"center"})}))}},dataProcess:function(){var e=this.$q.localStorage.getItem("bazi_list"),t=e?JSON.parse(e):[],s=this.$q.localStorage.getAllKeys();t.length;for(var a=[],i=0;i<s.length;i++)if(s[i].includes("bazi")&&"showbazi"!=s[i]&&"bazi_list"!=s[i]){var n=this.$q.localStorage.getItem(s[i]);n.id=s[i].replace("bazi|",""),a.push({id:n.id,name:n.name})}var l=new Intl.Collator("zh-Hans-CN-u-kf",{numeric:!0,sensitivity:"base"});a.sort((function(e,t){return l.compare(t.name,e.name)}));for(var o=0;o<a.length;o++){var r={id:a[o].id,timestamp:this.getTimeStamp()};if(t.length>0){for(var u=0;u<t.length;u++)if(t[u].id==r.id){t.splice(u,1);break}t.unshift(r)}else t.push(r)}console.info("data",t),this.$q.localStorage.set("bazi_list",JSON.stringify(t)),c["a"].create({message:"命例已按照名字首字符排序成功",timeout:2e3,color:"black",position:"center"})},getTimeStamp:function(){var e=new Date,t=e.getTime();return t},preferenceSettings:function(){this.showSelectedRenYuanType=!0}},watch:{solar:function(e){this.solar=e,this.hourAccurate?this.birth_time=this.solar.toYmdHms():this.birth_time=this.solar.toYmd()+" 时辰未知",this.$forceUpdate()}}}),d=u,m=(s("e69e"),s("2877")),h=s("9989"),p=s("0016"),f=s("27f9"),v=s("6a67"),_=s("8f8e"),Y=s("9c40"),b=s("cb32"),x=s("24e8"),N=s("3786"),R=s("8572"),w=s("eebe"),C=s.n(w),g=Object(m["a"])(d,a,i,!1,null,"3c8a395e",null);t["default"]=g.exports;C()(g,"components",{QPage:h["a"],QIcon:p["a"],QInput:f["a"],QBtnToggle:v["a"],QCheckbox:_["a"],QBtn:Y["a"],QAvatar:b["a"],QDialog:x["a"],QRadio:N["a"],QField:R["a"]})},"51ce":function(e,t,s){},e69e:function(e,t,s){"use strict";s("51ce")}}]);