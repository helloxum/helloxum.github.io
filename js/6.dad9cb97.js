(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{1118:function(t,e,a){"use strict";a("20c1")},"20c1":function(t,e,a){},"2c10":function(t,e,a){"use strict";a.r(e);a("14d9");var s=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"col-12 row bg-card text-center justify-center"},[e("TopHeader",{attrs:{title:t.title,right:!0,left:!0,backgroundColor:"#fafafa"},scopedSlots:t._u([{key:"right",fn:function(){return[e("div",{staticClass:"col-12 text-right q-mr-sm items-center row justify-end",on:{click:function(e){return t.$router.push({name:"z8List"})}}},[e("q-icon",{attrs:{name:"format_list_numbered",size:"xs"}}),e("span",{staticClass:"f16 fc3"},[t._v("命例")])],1)]},proxy:!0}])}),e("div",{staticClass:"items-center text-center justify-center bg-card",staticStyle:{width:"500px"}},[e("div",{staticClass:"q-pa-md q-mx-md q-my-sm round-corner-8 bg-white"},[e("q-input",{staticClass:"col-12 q-my-sm items-center f14 pan",attrs:{"bg-color":"input",outlined:"",placeholder:"名字",dense:"","hide-hint":!0,maxlength:10},scopedSlots:t._u([{key:"after",fn:function(){return[e("q-btn-toggle",{staticClass:"border col-12",attrs:{dense:"",unelevated:"",ripple:!1,size:"1rem",spread:"",padding:"6px 15px","toggle-color":"primary",options:[{value:"1",label:"男"},{value:"0",label:"女"}]},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}})]},proxy:!0}]),model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),e("div",{staticClass:"col-12 row"},[e("time-selector",{attrs:{selectedDate:t.solar,solar_time:t.solar_time,hour_accurate:t.hour_accurate,r2l:t.r2l,hourAccurate:t.hourAccurate},on:{"update:selectedDate":function(e){t.solar=e},"update:selected-date":function(e){t.solar=e},cancelClick:function(e){t.showSetDate=!1},"update:hourAccurate":function(e){t.hourAccurate=e},"update:hour-accurate":function(e){t.hourAccurate=e}}})],1),e("div",{staticClass:"col-12 row q-mt-sm"},[e("q-checkbox",{staticClass:"checkbox q-my-sm",attrs:{size:"sm",val:"true",color:"primary",label:"保存此案例",dense:""},model:{value:t.isSave,callback:function(e){t.isSave=e},expression:"isSave"}})],1),e("div",{staticClass:"col-12 row"},[e("q-btn",{staticClass:"col-12 q-my-md",attrs:{size:"16px",padding:"8.5px 0",unelevated:"",color:"primary","text-color":"white",label:"排盘"},on:{click:function(e){return t.goPaiPan()}}})],1)],1),e("div",{staticClass:"bg-white q-pa-md q-mx-md q-my-sm col-12 row round-corner-8"},[e("div",{staticClass:"row q-mt-sm col-12"},[(t.$q.platform.is.android,t._e()),e("div",{staticClass:"col-3 text-center",on:{click:function(e){return t.dataProcess()}}},[e("q-avatar",{staticStyle:{background:"linear-gradient(180deg,#9487f2, #d0cbff 100%)"},attrs:{size:"xl","font-size":"32px","text-color":"white"}},[e("q-icon",{attrs:{name:"sort",size:"sm",color:"white"}})],1),e("div",{staticClass:"f12 fc3 fw500 q-mt-sm"},[e("b",[t._v("命例排序")])])],1)])])])],1)},i=[],r=(a("b0c0"),a("b64b"),a("caad"),a("2532"),a("ac1f"),a("5319"),a("4e82"),a("a434"),a("3c65"),a("e9c4"),a("af34")),o=(a("2918"),a("2a19")),c=a("41f3"),n=a("df37"),l=a("8e6a"),u=(a("ca00"),{name:"paipan",mixins:[l["a"]],components:{TopHeader:r["a"],TimeSelector:c["a"]},props:["solar_time","name","hour_accurate","is_save","user_sex","id"],data:function(){return{title:"排盘",userName:this.name||"",sex:this.user_sex||"1",birth_time:"",solar:null,showSetDate:!1,r2l:!1,hourAccurate:!0,isSave:this.is_save||!0,showTime:null}},mounted:function(){var t=this.$q.localStorage.getItem("showorder")||"0";"1"==t&&(this.r2l=!0),"1"==this.hour_accurate?this.hourAccurate=!0:"0"==this.hour_accurate&&(this.hourAccurate=!1),this.solar_time&&(this.solar=n["Solar"].fromYmdHms(this.solar_time.year,this.solar_time.month,this.solar_time.day,this.solar_time.hour,this.solar_time.minute,this.solar_time.second))},methods:{goPaiPan:function(){console.info("id",this.id),this.$router.push({name:"baziPan",params:{birth_time:this.solar,sex:this.sex,name:this.userName,is_save:this.isSave,hour_accurate:this.hourAccurate,bazi_id:this.id||""}})},backup:function(){if(this.$q.platform.is.android){var t=this;t.exportData().then((function(t){var e="";console.log(t),e="1"==t.r?"备份成功，备份路径为：SD卡/xiaoyu/xiaoyu_db":"-1"==t.r?"备份过程中出现错误":"-2"==t.r?"被永久拒绝授权，请手动授予存储权限":"-3"==t.r?"获取存储权限失败":"出现错误",o["a"].create({message:e,timeout:2e3,color:"black",position:"center"})}))}},dataProcess:function(){var t=this.$q.localStorage.getItem("bazi_list"),e=t?JSON.parse(t):[],a=this.$q.localStorage.getAllKeys();e.length;for(var s=[],i=0;i<a.length;i++)if(a[i].includes("bazi")&&"showbazi"!=a[i]&&"bazi_list"!=a[i]){var r=this.$q.localStorage.getItem(a[i]);r.id=a[i].replace("bazi|",""),s.push({id:r.id,name:r.name})}var c=new Intl.Collator("zh-Hans-CN-u-kf",{numeric:!0,sensitivity:"base"});s.sort((function(t,e){return c.compare(e.name,t.name)}));for(var n=0;n<s.length;n++){var l={id:s[n].id,timestamp:this.getTimeStamp()};if(e.length>0){for(var u=0;u<e.length;u++)if(e[u].id==l.id){e.splice(u,1);break}e.unshift(l)}else e.push(l)}console.info("data",e),this.$q.localStorage.set("bazi_list",JSON.stringify(e)),o["a"].create({message:"命例已按照名字首字符排序成功",timeout:2e3,color:"black",position:"center"})},getTimeStamp:function(){var t=new Date,e=t.getTime();return e}},watch:{solar:function(t){this.solar=t,this.hourAccurate?this.birth_time=this.solar.toYmdHms():this.birth_time=this.solar.toYmd()+" 时辰未知",this.$forceUpdate()}}}),m=u,h=(a("1118"),a("2877")),d=a("9989"),f=a("0016"),p=a("27f9"),b=a("6a67"),g=a("8f8e"),v=a("9c40"),_=a("cb32"),x=a("8572"),q=a("eebe"),w=a.n(q),y=Object(h["a"])(m,s,i,!1,null,"02e87360",null);e["default"]=y.exports;w()(y,"components",{QPage:d["a"],QIcon:f["a"],QInput:p["a"],QBtnToggle:b["a"],QCheckbox:g["a"],QBtn:v["a"],QAvatar:_["a"],QField:x["a"]})}}]);